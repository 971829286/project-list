webpackJsonp([7],{39:function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _jsx2 = __webpack_require__(19);\n\nvar _jsx3 = _interopRequireDefault(_jsx2);\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\n__webpack_require__(53);\n\nvar _antd = __webpack_require__(20);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar Content = _antd.Layout.Content,\n    Footer = _antd.Layout.Footer;\n\n/**\n * @author wujingtao\n *\n * @desc CMS 配置页通用组件\n *\n * @date  2018年08月31日14:59:26\n */\n\nvar CMSHeader = function () {\n    function CMSHeader(props) {\n        //todo 设置入参\n        var children = props.children;\n\n        return (0, _jsx3.default)(_antd.Layout, {\n            style: { height: '100%' }\n        }, void 0, (0, _jsx3.default)(Content, {}, void 0, (0, _jsx3.default)('div', {}, void 0, children)));\n    }\n\n    return CMSHeader;\n}();\n\nexports.default = CMSHeader;\nmodule.exports = exports['default'];\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/CMSHeader.jsx\n// module id = 39\n// module chunks = 4 5 6 7 8\n\n//# sourceURL=webpack:///./components/CMSHeader.jsx?")},771:function(module,exports,__webpack_require__){"use strict";eval("\n\nvar _extends2 = __webpack_require__(4);\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _jsx2 = __webpack_require__(19);\n\nvar _jsx3 = _interopRequireDefault(_jsx2);\n\nvar _classCallCheck2 = __webpack_require__(1);\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = __webpack_require__(3);\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = __webpack_require__(2);\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _react = __webpack_require__(0);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(9);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _sad = __webpack_require__(26);\n\nvar _sad2 = _interopRequireDefault(_sad);\n\nvar _CMSHeader = __webpack_require__(39);\n\nvar _CMSHeader2 = _interopRequireDefault(_CMSHeader);\n\nvar _antd = __webpack_require__(20);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _ref = (0, _jsx3.default)(_antd.Icon, {\n    type: 'plus'\n});\n\nvar _ref2 = (0, _jsx3.default)('br', {});\n\nvar _ref3 = (0, _jsx3.default)('label', {}, void 0, '\\u786E\\u5B9A\\u4FDD\\u5B58banner\\u914D\\u7F6E\\u5417\\uFF1F');\n\nvar _ref4 = (0, _jsx3.default)('label', {}, void 0, '\\u786E\\u5B9A\\u4FDD\\u5B58\\u91D1\\u989D\\u914D\\u7F6E\\u5417\\uFF1F');\n\nvar MaintenanceScreen = function (_SADPage) {\n    (0, _inherits3.default)(MaintenanceScreen, _SADPage);\n\n    /**\n     * @author wujingtao\n     *\n     *\n     * @date 2018年09月11日\n     */\n\n    function MaintenanceScreen() {\n        (0, _classCallCheck3.default)(this, MaintenanceScreen);\n\n        //todo 设置初始弹窗的显示状态 以及初始数据\n        var _this = (0, _possibleConstructorReturn3.default)(this, _SADPage.call(this));\n\n        _this.bannerSave = function () {\n            /*if (!this.state.banner) {\n                this.setState({banner_msg: 'BANNER配置不允许为空'});\n                return;\n            }\n             if (!this.state.bannerUrl) {\n                this.setState({bannerUrlMsg: '照片不允许为空'});\n                return;\n            }\n            if (!this.state.bannerProtocol) {\n                this.setState({bannerProtocolMsg: '跳转协议地址不允许为空'});\n                return;\n            }*/\n            //调用后端保存接口\n            _this.setState({\n                bannerId: _this.state.bannerData.id,\n                bannerToast: false\n            }, function () {\n                return _this.saveBanner();\n            });\n            //验证保存成功与否\n            //alert(\"保存成功！\");\n            location.reload(true);\n        };\n\n        _this.moneySave = function () {\n\n            /* if (!this.state.noCertification && this.state.noCertification !== 0) {\n                 this.setState({noCertificationMsg: '非认证金额不允许为空'});\n                 return;\n             }\n             if (isNaN(this.state.noCertification)) {\n                 this.setState({noCertificationMsg: '非认证金额不允许输入非数值类型'});\n                 return;\n             }\n             if (parseFloat(this.state.noCertification) <= 0) {\n                 this.setState({noCertificationMsg: '非认证金额不允许<=0'});\n                 return;\n             }\n             if (!this.state.certification && this.state.certification !== 0) {\n                 this.setState({certificationMsg: '认证金额不允许为空'});\n                 return;\n             }\n             if (isNaN(this.state.certification)) {\n                 this.setState({certificationMsg: '认证金额不允许输入非数值类型'});\n                 return;\n             }\n             if (parseFloat(this.state.certification) <= 0) {\n                 this.setState({certificationMsg: '认证金额不允许为空且不允许<=0'});\n                 return;\n             }*/\n\n            //调用后端接口\n            _this.setState({\n                moneyId: _this.state.moneyData.id,\n                noCertification: _this.state.noCertification + '',\n                certification: _this.state.certification + '',\n                moneyToast: false\n            }, function () {\n                return _this.saveMoney();\n            });\n\n            //验证保存成功与否\n            //alert(\"保存成功！\");\n            location.reload(true);\n        };\n\n        _this.handleChange = function (info) {\n            var fileList = info.fileList;\n            if (fileList.length === 0) {\n                _this.setState({ bannerUrl: '' });\n                _this.state.bannerData.photo = [];\n            }\n\n            // 1. Limit the number of uploaded files\n            // Only to show two recent uploaded files, and old ones will be replaced by the new\n            fileList = fileList.slice(-1);\n\n            // 2. Read from response and show file link\n            fileList = fileList.map(function (file) {\n                if (file.response) {\n                    // Component will show file.url as link\n                    file.url = file.response.data;\n                    _this.state.bannerUrl = file.response.data;\n                    _this.state.banner_msg = '';\n                }\n                return file;\n            });\n\n            // 3. Filter successfully uploaded files according to response from server\n            fileList = fileList.filter(function (file) {\n                if (file.response) {\n                    console.log(\"file.response.status:\" + file.response.success);\n                    return file.response.success === true;\n                }\n                return true;\n            });\n\n            _this.setState({ fileList: fileList });\n        };\n\n        _this.handlePreview = function (file) {\n            _this.setState({\n                previewImage: file.url || file.thumbUrl,\n                previewVisible: true\n            });\n        };\n\n        _this.handleCancel = function () {\n            _this.setState({ previewVisible: false });\n        };\n\n        _this.initPhoto = function () {\n            console.log(\"初始化照片...\");\n            var photo = _this.state.bannerData.photo;\n            return _this.state.fileList;\n        };\n\n        _this.state = {\n            //todo banner 配置所需字段\n            bannerSuccess: false, //banner配置成功与否时的状态判断\n            bannerMsg: '', //保存失败时表单提示信息\n            bannerId: '',\n            banner: '',\n            bannerUrl: '',\n            bannerProtocol: '',\n            banner_msg: '', //banner配置为空时提示信息\n            bannerUrlMsg: '', //banner配置URL为空时提示信息\n            bannerProtocolMsg: '', //跳转协议\n\n            //todo 金额配置所需字段\n            moneySuccess: false, //金额配置成功与否的的状态信息\n            moneyMsg: '', //保存操作的提示信息\n            moneyId: '',\n            noCertification: '', //非认证金额\n            certification: '', //认证金额\n            noCertificationMsg: '',\n            certificationMsg: '',\n            fileList: [],\n            previewVisible: false,\n            previewImage: '',\n\n            bannerToast: false, //确认保存banner提示\n            moneyToast: false //确认保存monner\n        };\n        console.log(\"页面构建方法....\");\n        //setTimeout(() => {this.getDataRecord()}, 100);\n        setTimeout(function () {\n            var photo = _this.state.bannerData.photo;\n            if (photo.length === 0) {\n                photo = [];\n            }\n            _this.setState({\n                bannerId: _this.state.bannerData.id,\n                banner: _this.state.bannerData.bannerTitle,\n                bannerUrl: _this.state.bannerData.url,\n                bannerProtocol: _this.state.bannerData.protocol,\n                fileList: photo,\n                moneyId: _this.state.moneyData.id,\n                noCertification: _this.state.moneyData.noCertification,\n                certification: _this.state.moneyData.certification\n            });\n        }, 1000);\n        return _this;\n    }\n\n    //todo 保存banner配置\n\n\n    //todo 保存金额配置\n\n\n    //todo 上传图片\n\n\n    //todo 照片大图展示事件\n\n\n    //todo 照片大图关闭事件\n\n\n    MaintenanceScreen.prototype.render = function render() {\n        var _this2 = this;\n\n        if (!this.stateAlready) {\n            return null;\n        }\n\n        var uploadButton = (0, _jsx3.default)('div', {}, void 0, _ref, (0, _jsx3.default)('div', {\n            style: { marginTop: '8px', color: '#666' }\n        }, void 0, '\\u4E0A\\u4F20\\u56FE\\u7247'));\n\n        var uploadFile = {\n            action: 'uploadAPI/uploadPic.json',\n            onChange: this.handleChange.bind(this),\n            multiple: true,\n            accept: 'image/jpeg,image/jpeg,image/x-png,image/gif',\n            listType: \"picture-card\",\n            onPreview: this.handlePreview.bind(this)\n        };\n\n        return (0, _jsx3.default)(_CMSHeader2.default, {}, void 0, (0, _jsx3.default)('div', {\n            style: { margin: '100px 300px' }\n        }, void 0, (0, _jsx3.default)('div', {\n            style: {\n                border: '2px solid #ccc',\n                borderRadius: \"15px\",\n                width: '100%'\n            }\n        }, void 0, (0, _jsx3.default)('table', {\n            style: {\n                padding: \"10px 10px 10px 20px\",\n                width: '100%'\n            }\n        }, void 0, (0, _jsx3.default)('tbody', {}, void 0, (0, _jsx3.default)('tr', {}, void 0, (0, _jsx3.default)('td', {\n            style: { width: '25%', fontWeight: '900', fontSize: 'large', paddingTop: '20px' }\n        }, void 0, (0, _jsx3.default)('a', {\n            style: { color: 'black', paddingLeft: '10px' }\n        }, void 0, 'banner\\u914D\\u7F6E')), (0, _jsx3.default)('td', {\n            style: { width: '75%' }\n        })), (0, _jsx3.default)('tr', {\n            style: { paddingTop: '10px' }\n        }, void 0, (0, _jsx3.default)('td', {\n            style: { width: '15%' }\n        }, void 0, (0, _jsx3.default)('label', {\n            style: { paddingLeft: '10px' }\n        }, void 0, 'BANNER\\u6807\\u9898\\uFF1A')), (0, _jsx3.default)('td', {\n            style: { width: '85%' }\n        }, void 0, (0, _jsx3.default)('input', {\n            style: { width: '99%', float: 'left', paddingRight: '20px' },\n            type: 'banner',\n            id: 'banner',\n            onChange: function onChange(e) {\n                _this2.setState({\n                    banner: e.target.value,\n                    banner_msg: ''\n                });\n            },\n            value: this.state.banner\n        }))), (0, _jsx3.default)('tr', {}, void 0, (0, _jsx3.default)('td', {\n            style: { width: '15%' }\n        }), (0, _jsx3.default)('td', {\n            style: { width: '85%' }\n        }, void 0, (0, _jsx3.default)('label', {\n            style: { color: 'red' }\n        }, void 0, this.state.banner_msg))), (0, _jsx3.default)('tr', {}, void 0, (0, _jsx3.default)('td', {\n            style: { width: '15%' }\n        }, void 0, (0, _jsx3.default)('label', {\n            style: { paddingLeft: '10px' }\n        }, void 0, '\\u56FE\\u7247\\uFF1A')), (0, _jsx3.default)('td', {\n            style: { width: '85%' }\n        }, void 0, _react2.default.createElement(\n            _antd.Upload,\n            (0, _extends3.default)({}, uploadFile, { fileList: this.state.fileList }),\n            this.state.fileList.length >= 1 ? null : uploadButton\n        ))), (0, _jsx3.default)('tr', {}, void 0, (0, _jsx3.default)('td', {\n            style: { width: '15%' }\n        }), (0, _jsx3.default)('td', {\n            style: { width: '85%' }\n        }, void 0, (0, _jsx3.default)('label', {\n            style: { color: 'red' }\n        }, void 0, this.state.bannerUrlMsg))), (0, _jsx3.default)('tr', {}, void 0, (0, _jsx3.default)('td', {\n            style: { width: '15%' }\n        }, void 0, (0, _jsx3.default)('label', {\n            style: { paddingLeft: '10px' }\n        }, void 0, '\\u8DF3\\u8F6C\\u534F\\u8BAE\\u5730\\u5740\\uFF1A')), (0, _jsx3.default)('td', {\n            style: { width: '85%' }\n        }, void 0, (0, _jsx3.default)('input', {\n            style: { width: '99%', float: 'left', paddingRight: '20px' },\n            type: 'protocol',\n            id: 'protocol',\n            onChange: function onChange(e) {\n                _this2.setState({\n                    bannerProtocol: e.target.value,\n                    bannerProtocolMsg: ''\n                });\n            },\n            value: this.state.bannerProtocol\n        }))), (0, _jsx3.default)('tr', {}, void 0, (0, _jsx3.default)('td', {\n            style: { width: '15%' }\n        }), (0, _jsx3.default)('td', {\n            style: { width: '85%' }\n        }, void 0, (0, _jsx3.default)('label', {\n            style: { color: 'red' }\n        }, void 0, this.state.bannerProtocolMsg))), (0, _jsx3.default)('tr', {}, void 0, (0, _jsx3.default)('td', {\n            style: { width: '15%' }\n        }), (0, _jsx3.default)('td', {\n            style: { width: '85%' }\n        }, void 0, (0, _jsx3.default)('label', {\n            style: { color: 'red' }\n        }, void 0, '*\\u652F\\u6301http\\u534F\\u8BAE\\u548C\\u672C\\u5730\\u534F\\u8BAE\\u8DF3\\u8F6C\\u534F\\u8BAE'))), (0, _jsx3.default)('tr', {}, void 0, (0, _jsx3.default)('td', {\n            style: { width: '15%' }\n        }), (0, _jsx3.default)('td', {\n            style: { width: '85%', paddingRight: '10px' }\n        }, void 0, (0, _jsx3.default)(_antd.Button, {\n            type: 'primary',\n            style: { float: \"right\", paddingRight: \"20px\" },\n            onClick: function onClick() {\n                if (!_this2.state.banner) {\n                    _this2.setState({ banner_msg: 'BANNER标题不允许为空' });\n                    return;\n                }\n                if (!_this2.state.bannerUrl) {\n                    _this2.setState({ bannerUrlMsg: '照片不允许为空' });\n                    return;\n                }\n                /*if (!this.state.bannerProtocol) {\n                    this.setState({bannerProtocolMsg: '跳转协议地址不允许为空'});\n                    return;\n                }*/\n                _this2.setState({\n                    bannerToast: true\n                });\n            }\n        }, void 0, '\\u4FDD\\u5B58')))))), _ref2, (0, _jsx3.default)('div', {\n            style: {\n                border: '2px solid #ccc',\n                borderRadius: \"15px\"\n            }\n        }, void 0, (0, _jsx3.default)('table', {\n            style: {\n                padding: \"10px 10px 10px 20px\",\n                width: '100%'\n            }\n        }, void 0, (0, _jsx3.default)('tbody', {}, void 0, (0, _jsx3.default)('tr', {}, void 0, (0, _jsx3.default)('td', {\n            style: { width: '25%', fontWeight: '900', fontSize: 'large', paddingTop: '20px' }\n        }, void 0, (0, _jsx3.default)('a', {\n            style: { color: 'black', paddingLeft: '10px' }\n        }, void 0, '\\u91D1\\u989D\\u914D\\u7F6E')), (0, _jsx3.default)('td', {\n            style: { width: '25%' }\n        }), (0, _jsx3.default)('td', {\n            style: { width: '25%' }\n        }), (0, _jsx3.default)('td', {\n            style: { width: '25%' }\n        })), (0, _jsx3.default)('tr', {}, void 0, (0, _jsx3.default)('td', {\n            style: { width: '25%' }\n        }, void 0, (0, _jsx3.default)('label', {\n            style: { paddingLeft: '10px' }\n        }, void 0, '\\u975E\\u8BA4\\u8BC1\\u8F66\\u884C\\u91D1\\u989D\\uFF08\\u5143\\uFF09\\uFF1A')), (0, _jsx3.default)('td', {\n            style: { width: '25%' }\n        }, void 0, (0, _jsx3.default)('input', {\n            style: { width: '90%', float: 'left' },\n            type: 'noCertification',\n            id: 'noCertification',\n            onChange: function onChange(e) {\n                _this2.setState({\n                    noCertification: e.target.value,\n                    noCertificationMsg: ''\n                });\n            },\n            value: this.state.noCertification,\n            placeholder: '金额为非负数'\n        })), (0, _jsx3.default)('td', {\n            style: { width: '25%' }\n        }, void 0, (0, _jsx3.default)('label', {\n            style: { paddingLeft: '10px' }\n        }, void 0, '\\u8BA4\\u8BC1\\u8F66\\u884C\\u91D1\\u989D\\uFF08\\u5143\\uFF09\\uFF1A')), (0, _jsx3.default)('td', {\n            style: { width: '25%' }\n        }, void 0, (0, _jsx3.default)('input', {\n            style: { width: '90%', float: 'left' },\n            type: 'certification',\n            id: 'certification',\n            onChange: function onChange(e) {\n                _this2.setState({\n                    certification: e.target.value,\n                    certificationMsg: ''\n                });\n            },\n            value: this.state.certification,\n            placeholder: '金额为非负数'\n        }))), (0, _jsx3.default)('tr', {}, void 0, (0, _jsx3.default)('td', {\n            style: { width: '25%' }\n        }), (0, _jsx3.default)('td', {\n            style: { width: '25%' }\n        }, void 0, (0, _jsx3.default)('label', {\n            style: { color: 'red' }\n        }, void 0, this.state.noCertificationMsg)), (0, _jsx3.default)('td', {\n            style: { width: '25%' }\n        }), (0, _jsx3.default)('td', {\n            style: { width: '25%' }\n        }, void 0, (0, _jsx3.default)('label', {\n            style: { color: 'red' }\n        }, void 0, this.state.certificationMsg))), (0, _jsx3.default)('tr', {}, void 0, (0, _jsx3.default)('td', {\n            style: { width: '25%' }\n        }), (0, _jsx3.default)('td', {\n            style: { width: '25%' }\n        }), (0, _jsx3.default)('td', {\n            style: { width: '25%' }\n        }), (0, _jsx3.default)('td', {\n            style: { width: '25%', paddingRight: '10px' }\n        }, void 0, (0, _jsx3.default)(_antd.Button, {\n            type: 'primary',\n            style: { float: \"right\", paddingRight: \"20px\" },\n            onClick: function onClick() {\n                if (!_this2.state.noCertification && _this2.state.noCertification !== 0) {\n                    _this2.setState({ noCertificationMsg: '非认证金额不允许为空' });\n                    return;\n                }\n                if (isNaN(_this2.state.noCertification)) {\n                    _this2.setState({ noCertificationMsg: '非认证金额不允许输入非数值类型' });\n                    return;\n                }\n                if (parseFloat(_this2.state.noCertification) <= 0) {\n                    _this2.setState({ noCertificationMsg: '非认证金额不允许<=0' });\n                    return;\n                }\n                if (!_this2.state.certification && _this2.state.certification !== 0) {\n                    _this2.setState({ certificationMsg: '认证金额不允许为空' });\n                    return;\n                }\n                if (isNaN(_this2.state.certification)) {\n                    _this2.setState({ certificationMsg: '认证金额不允许输入非数值类型' });\n                    return;\n                }\n                if (parseFloat(_this2.state.certification) <= 0) {\n                    _this2.setState({ certificationMsg: '认证金额不允许为空且不允许<=0' });\n                    return;\n                }\n                _this2.setState({ moneyToast: true });\n            }\n        }, void 0, '\\u4FDD\\u5B58'))))))), (0, _jsx3.default)('div', {}, void 0, (0, _jsx3.default)(_antd.Modal, {\n            visible: this.state.previewVisible,\n            footer: null,\n            onCancel: this.handleCancel\n        }, void 0, (0, _jsx3.default)('img', {\n            alt: 'example',\n            style: { width: '100%' },\n            src: this.state.previewImage\n        }))), (0, _jsx3.default)('div', {}, void 0, (0, _jsx3.default)(_antd.Modal, {\n            title: '确定保存提示',\n            okText: '确定',\n            cancelText: '取消',\n            visible: this.state.bannerToast,\n            onOk: function onOk() {\n                return _this2.bannerSave();\n            },\n            onCancel: function onCancel() {\n                _this2.setState({\n                    bannerToast: false\n                });\n                location.reload(true);\n            }\n        }, void 0, _ref3)), (0, _jsx3.default)('div', {}, void 0, (0, _jsx3.default)(_antd.Modal, {\n            title: '确定保存提示',\n            okText: '确定',\n            cancelText: '取消',\n            visible: this.state.moneyToast,\n            onOk: function onOk() {\n                return _this2.moneySave();\n            },\n            onCancel: function onCancel() {\n                _this2.setState({\n                    moneyToast: false\n                });\n                location.reload(true);\n            }\n        }, void 0, _ref4)));\n    };\n\n    return MaintenanceScreen;\n}(_sad2.default);\n\n_reactDom2.default.render((0, _jsx3.default)(MaintenanceScreen, {}), document.querySelector(\"#content\"));\n\n//////////////////\n// WEBPACK FOOTER\n// ./pages/MaintenanceScreen.jsx\n// module id = 771\n// module chunks = 7\n\n//# sourceURL=webpack:///./pages/MaintenanceScreen.jsx?")}},[771]);